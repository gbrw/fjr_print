/* === General Styles === */
html {
    scroll-behavior: smooth;
    scroll-padding-top: 10px;
    -webkit-text-size-adjust: 100%;
}

body {
    font-family: 'Cairo', 'Arial', sans-serif;
    background-color: #f0f4f8;
    margin: 0;
    padding: 10px;
    direction: rtl;
    min-height: 100vh;
    color: #333;
    line-height: 1.6;
}

body::-webkit-scrollbar { width: 10px; }
body::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
body::-webkit-scrollbar-thumb { background: #3498db; border-radius: 10px; }
body::-webkit-scrollbar-thumb:hover { background: #2980b9; }

/* === Loading Overlay === */
#loading-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(255, 255, 255, 0.9); display: flex;
    justify-content: center; align-items: center; z-index: 9999;
    transition: opacity 0.5s ease;
}
.loading-spinner {
    width: 60px; height: 60px; border: 6px solid #f3f3f3;
    border-top: 6px solid #3498db; border-radius: 50%;
    animation: spin 1s linear infinite;
}
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* === Container & Layout === */
.container {
    max-width: 850px; margin: 20px auto; background-color: white;
    padding: 25px; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    border-radius: 16px; border-top: 4px solid #3498db;
}

.logo-container {
    display: flex; flex-direction: column; align-items: center;
    margin-bottom: 25px; padding-bottom: 18px; border-bottom: 2px solid #eaeaea;
}
.logo { max-width: 150px; margin-bottom: 12px; border-radius: 12px; }
h1 { text-align: center; color: #2c3e50; font-size: 26px; }

/* === Form Elements === */
.text-section {
    border: 1px solid #e6e6e6; border-radius: 12px; padding: 22px;
    margin-bottom: 25px; background-color: #f9f9f9;
    box-shadow: 0 3px 10px rgba(0,0,0,0.07);
    border-right: 3px solid #3498db;
}
.section-title {
    font-size: 18px; color: #2c3e50; margin-top: 0; margin-bottom: 15px;
    padding-bottom: 10px; border-bottom: 2px solid #e0e0e0; font-weight: 700;
}
.form-group { margin-bottom: 12px; }
label { display: block; margin-bottom: 5px; font-weight: bold; }
textarea {
    width: 100%; padding: 12px 15px; border: 1px solid #ddd;
    border-radius: 10px; font-size: 16px; min-height: 60px;
    box-sizing: border-box; font-family: 'Cairo', 'Arial', sans-serif; resize: vertical;
}
textarea:focus { outline: none; border-color: #3498db; box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2); }

.text-controls { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 15px; }

.size-control, .color-control, .font-family-control, .text-style-control, .border-width-control {
    display: flex; flex-direction: column; gap: 8px;
}
.size-control label, .color-control label, .font-family-control label, .text-style-control label, .border-control label {
    font-size: 14px; margin-bottom: 5px; width: 100%;
}
.font-size-input, .border-width-control input { width: 70px; padding: 8px 10px; border: 1px solid #ddd; border-radius: 6px; }
.font-family-select, .border-select { padding: 10px 14px; border: 1px solid #ddd; border-radius: 8px; width: 100%; }
.text-style-options { display: flex; gap: 10px; }
.text-style-options label { font-weight: normal; display: flex; align-items: center; gap: 5px; }

.color-presets { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 5px; }
.color-preset {
    width: 28px; height: 28px; border-radius: 50%; cursor: pointer;
    border: 2px solid #fff; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    transition: transform 0.2s ease; position: relative;
}
.color-preset:hover { transform: scale(1.15); }
.color-preset.active::after {
    content: '\f00c'; font-family: 'Font Awesome 6 Free';
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    color: white; font-weight: 900; font-size: 14px;
    text-shadow: 0 0 2px black;
}
.color-preset[data-color="#000000"].active::after,
.color-preset[data-color="#34495e"].active::after { color: white; }
.color-preset[data-color="#FFFFFF"].active::after { color: black; }


/* === Settings Controls === */
.settings-controls { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
.radio-group { display: flex; gap: 15px; margin-top: 5px; }
.radio-group label { font-weight: normal; }
.upload-container {
    display: flex; justify-content: center; align-items: center; width: 100%;
    height: 80px; border: 2px dashed #3498db; border-radius: 12px; cursor: pointer;
}
.upload-icon { color: #3498db; font-weight: bold; }
.file-input { display: none; } /* Hide the actual input, rely on label click */
.upload-container label { cursor: pointer; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
.opacity-slider { width: 100%; }
.border-options { display: flex; gap: 15px; margin-top: 10px; align-items: center; flex-wrap: wrap; }
.border-width-control { display: flex; align-items: center; gap: 5px; }

/* === Buttons === */
.buttons { display: flex; justify-content: center; margin-top: 20px; padding-top: 20px; border-top: 2px solid #eaeaea; }
button {
    background-color: #3498db; color: white; border: none; padding: 14px 28px;
    font-size: 16px; cursor: pointer; border-radius: 10px; transition: all 0.3s ease;
    font-family: 'Cairo', 'Arial', sans-serif; font-weight: 600;
}
button:hover { background-color: #2980b9; transform: translateY(-3px); }
#print-btn { background-color: #27ae60; }
#print-btn:hover { background-color: #219955; }
button i { margin-left: 8px; }

/* === Preview Area === */
.preview {
    margin: 50px auto; background-color: white; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 15mm; box-sizing: border-box; position: relative;
    border: 1px solid #ccc; transition: all 0.3s ease;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    overflow: hidden;
}
.preview.portrait { width: 210mm; height: 297mm; }
.preview.landscape { width: 297mm; height: 210mm; }

.background-layer {
    position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    z-index: 1; background-size: contain; background-position: center;
    background-repeat: no-repeat; transition: opacity 0.3s ease;
}

.preview-text {
    margin-bottom: 10mm; font-size: 16px; line-height: 1.5;
    padding: 5mm; position: relative; z-index: 2;
    text-align: center; word-wrap: break-word;
}

/* === Copyright === */
.copyright { text-align: center; font-size: 12px; color: #666; margin-top: 25px; direction: ltr; }

/* === Responsive === */
@media (max-width: 768px) {
    body { padding: 5px; }
    .container { width: auto; margin: 10px; padding: 15px; }
    .preview {
        width: 95vw !important; height: auto !important;
        aspect-ratio: 1 / 1.414; margin: 20px auto;
        padding: 10mm;
    }
    .preview.landscape { aspect-ratio: 1.414 / 1; }
    .preview-text { font-size: 14px; padding: 2mm; margin-bottom: 5mm; }
    .text-controls, .settings-controls { grid-template-columns: 1fr; gap: 15px; }
    .buttons { flex-direction: column; }
    button { width: 100%; }
}

/* === Print Styles === */
@media print {
    body { margin: 0 !important; padding: 0 !important; }
    .no-print { display: none !important; }

    .preview {
        position: absolute !important; top: 0 !important; left: 0 !important;
        margin: 0 !important; box-shadow: none !important;
        border: var(--print-border, none) !important;
        width: 100% !important; height: 100% !important;
        padding: 15mm !important; box-sizing: border-box !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        overflow: hidden !important;
    }
    .background-layer { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
    .preview-text { text-shadow: none !important; }
}

/* Page orientation style will be injected by JS */
